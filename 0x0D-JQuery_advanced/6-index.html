<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
        <meta charset="utf-8" />
        <title>Task 1</title>

    </head>

    <body>
        <script type="application/javascript">
          function createFamilyTree() {
            $("body").append("<table><thead><th>Firstname</th><th>Lastname</th></thead></table>");
            $("table").append("<tbody></tbody>");
          }

          function addNewMember(firstName, lastName, position) {
            if (position === "before") {
              $("tbody").prepend("<tr><td>" + firstName + "</td><td>" + lastName + "</td><td>(x)</td></tr>");
            } else {
              $("tbody").append("<tr><td>" + firstName + "</td><td>" + lastName + "</td><td>(x)</td></tr>");
            }
            $("td:contains('(x)')").css("background-color", "orange");
            $("td:contains('(x)')").click(function() {
              $(this).closest("tr").remove();
            });
          }

          function createForm () {
            $("table").before("<input type='text'>","<input type='text'>");
            $("input:eq(1)").after("<select><option value='before'>Before</option><option value='after'>After</option></select>");
            $("select").after("<input type='submit'>")
            $("input:eq(2)").click(function () {
              let name = $("input:eq(0)").first().val();
              let fname = $("input:nth-of-type(2)").val();
              let pos = $("select").val();
              addNewMember(name, fname, pos);
            });
          }

          createFamilyTree();
          createForm();
        </script>
    </body>

</html>